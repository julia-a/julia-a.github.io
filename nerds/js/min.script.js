var link=document.querySelector(".contacts__button"),popup=document.querySelector(".modal"),close=popup.querySelector(".modal__close"),formWrite=popup.querySelector(".write"),username=popup.querySelector("[name=username]"),email=popup.querySelector("[name=email]"),message=popup.querySelector("[name=message]"),writeError=document.querySelector(".write__error"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("username")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal__show"),storage?(username.value=storage,message.focus()):username.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal__show"),popup.classList.remove("modal__error")}),formWrite.addEventListener("submit",function(e){username.value&&email.value&&message.value?isStorageSupport&&(localStorage.setItem("username",username.value),localStorage.setItem("email",email.value)):(e.preventDefault(),writeError.classList.add("write__error_show"),popup.classList.remove("modal__error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal__error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal__show")&&(popup.classList.remove("modal__show"),popup.classList.remove("modal__error")))});var slider=document.querySelector(".slider"),SLIDE_HIDDEN="visually-hidden",BUTTON_ACTIVE="slider__control_current",slideOne=document.querySelector(".slider__item_expensive"),slideTwo=document.querySelector(".slider__item_exact"),slideThree=document.querySelector(".slider__item_unique"),buttonOne=document.querySelector(".slider__control:nth-child(1)"),buttonTwo=document.querySelector(".slider__control:nth-child(2)"),buttonThree=document.querySelector(".slider__control:nth-child(3)");slider&&(buttonOne.addEventListener("click",function(){buttonTwo.classList.remove(BUTTON_ACTIVE),buttonThree.classList.remove(BUTTON_ACTIVE),buttonOne.classList.add(BUTTON_ACTIVE),slideTwo.classList.add(SLIDE_HIDDEN),slideThree.classList.add(SLIDE_HIDDEN),slideOne.classList.remove(SLIDE_HIDDEN)}),buttonTwo.addEventListener("click",function(){buttonOne.classList.remove(BUTTON_ACTIVE),buttonThree.classList.remove(BUTTON_ACTIVE),buttonTwo.classList.add(BUTTON_ACTIVE),slideOne.classList.add(SLIDE_HIDDEN),slideThree.classList.add(SLIDE_HIDDEN),slideTwo.classList.remove(SLIDE_HIDDEN)}),buttonThree.addEventListener("click",function(){buttonTwo.classList.remove(BUTTON_ACTIVE),buttonOne.classList.remove(BUTTON_ACTIVE),buttonThree.classList.add(BUTTON_ACTIVE),slideOne.classList.add(SLIDE_HIDDEN),slideTwo.classList.add(SLIDE_HIDDEN),slideThree.classList.remove(SLIDE_HIDDEN)}));